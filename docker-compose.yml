version: '3'
services: 
    nginx:
      image: nginx:latest
      container_name: production_nginx
      volumes:
        - ./nginx.conf:/etc/nginx/nginx.conf
        - ./nginx/error.log:/etc/nginx/error_log.log
        - /etc/letsencrypt/:/etc/letsencrypt/
      ports:
        - 80:80
        - 443:443
    app:
      container_name: codebond-dep_app
      restart: always
      build: .
      volumes:
        - './:/app/'
      ports:
        - '80:80'
      links:
        - mongo
      environment:
        googleId           : 1084112566139-r95aljn6sf2o0e9gi4179c07aq0iabrv.apps.googleusercontent.com
        googleSecret       : XUoyvv6FQxPXoeUA-6rl2njZ
        mongodbUrl         : mongodb://mongo:27017/codebond-dep_app
        sessionKey         : asdoksfovasodjaklfvoa
        cloudName          : codebond
        cloudKey           : 196393852738322
        cloudSecret        : QRNJNpqV0HVB7f8TjBbjOuzGjl8
        emailFrom          : codebond.cb@gmail.com
        googleGmailId      : 560125691479-u12f0gld7v2jte46vbqoc41iit2cd3si.apps.googleusercontent.com
        googleGmailSecret  : RIcNt-cZ2l07J6tRW99Dv0h9
        googleRefreshToken : 1/meRnxcghabkbEHJDl2SwjEeSui1I_ClYYba2GiuS3Gg
        googleAccessToken  : ya29.Glt0B3esCL-fNcfwyD56IlaT4_-IyVqy_8jvNIZ97i_HXG0AF0vBqxwrmUc7sJ6p-YVJXH-kKX3dt-wwEjTTL6Kbl46eyANvVJ_YUNX8XzTJtnYj9irLynXTaOTu
        emailTo            : saudchougle.sc@gmail.com
        jwtSecret          : hhsslarljkfajkibnbakjdsfjk2312
    mongo:
      container_name: mongo
      image: mongo
      restart: always
      ports:
        - '27017:27017'
      volumes:
        - /data/db/:/data/db/
   
